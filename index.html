<!DOCTYPE html>
<html lang="en">
<head>
  <title>System Number Generator</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" />
  
  <style>
    .tdbor{
        border: 10px solid;
        padding: 35px;
    }
  </style>
  
</head>
<body>
  
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
  <a class="navbar-brand" href="#">ANITS</a>
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="#">Home</a>
    </li>
    
  </ul>
</nav>
<br /><br /><br /><br /><br />
<div class="container">
<h3> LAB System Number Generator </h3>

 <form >
  <div class="form-group">
    <label for="labname">Department/Lab Name/</label>
    <input type="text" class="form-control" placeholder="Ex:- ANITS/MECH/CADLAB/" id="labname" />
  </div>
  <div class="form-group">
    <label for="num">Numbers List</label>
    <input type="text" class="form-control" placeholder="Enter Number (1-5,9,15,20-25)" id="num" />
  </div> 
  <button type="button" id="btnSubmit" class="btn btn-primary">Submit</button>
</form>
</div>

</body>
</html>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script>
const arrayRange = (start, stop, step) =>
    Array.from({ length: (stop - start) / step + 1 }, (value, index) => start + index * step );
function flatten(arr) {
  return arr.reduce(function (flat, toFlatten) {
    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);
  }, []);
}
    $(document).ready(function(){
        $("#btnSubmit").click(function(){
            const txt = $("#labname").val()
            
            var num = $("#num").val()
            var finalNum = []
            if(num == "" || txt == "")
            swal.fire("Fail","No data found","error")
            else
            {
                num = num.split(",")
                for(i=0;i<num.length;i++){
                    var val = num[i].split("-")
                    if(val == ""){}
                    else
                    if(val.length == 2)
                    {
                        val.sort(function(a, b){return a-b})
                        var val1 = parseInt(val[0]),val2 = parseInt(val[1])
                        finalNum.push(arrayRange(val1, val2, 1))
                    }
                    else
                    finalNum.push(parseInt(val))
                }
                
                
        w = '1000', h = '800',left = (screen.width/2)-(w/2),top = (screen.height/2)-(h/2);
        var title = "Feedback Report View";
        var option = "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=no, copyhistory=no, width="+w+", height="+h+", top="+top+", left="+left;
        
        finalNum = (Array.from(new Set(flatten(finalNum).sort(function(a, b){return a-b}))))
        
        var div = "<table border='0' >"
        for(i=0;i<finalNum.length;i++){
            
            div = div + "<tr><td class='tdbor'>"+ ("000"+finalNum[i]).slice(-2)
                      + "</td>   <td class='tdemp'></td>   <td  class='tdbor'>" + ("000"+finalNum[i]).slice(-2)
                      + "</td>   <td></td>   <td class='tdemp'>"
                      
                      + "<table border='0'><tr> <td  class='tdsm'>"+ txt + ("000"+finalNum[i]).slice(-3)
                      + "</td> </tr> <tr> <td class='tdemp'></td> </tr> <tr> <td  class='tdsm'>"+ txt +  ("000"+finalNum[i]).slice(-3)
                      + "</td> </tr></table>" 
                      + "</tr>"
                      + "<tr><td class='tdemp' colspan='6'></td></tr>"
                    
        }
        div = div + "</table>"
        
        div = div + "<style>"
                  +  ".tdbor{border: 7px solid;padding: 60px; font-size: 55px; font-weight: 900; text-align: center;}"
                  +  ".tdsm{border: 5px solid;padding: 8px 100px; font-weight: 900;font-size: 25px; text-transform: uppercase;}"
                  +  ".tdemp{padding: 20px 20px;}"
                  +  "</style>"
            w = window.open("about:blank",title,option)
            w.document.open();
            w.document.write(div);
            
            }
        })
    })
 
</script>
